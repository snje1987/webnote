<{use Org\Snje\Minifw as FW}>
<{use Org\Snje\Webnote as WN}>
<{inc header}>
<div class="container-fluid">
    <{$bookname=$args->get_book_name()}>
    <{$cur_page=$args->get_cur_page()}>
    <ol class="breadcrumb breadcrumb">
        <button type="button" class="btn btn-default btn-xs" data-toggle="modal" data-target="#systemMenu"><span class="glyphicon glyphicon-cog"></span></button>
        &nbsp;&nbsp;
        <li><a href="/book/view/<{=$args->get_cur_path()}>">返回</a></li>
    </ol>
</div>
<{inc system_menu $args}>
<div class="container-fluid">
    <table class="table table-bordered table-hover table-condensed table-striped">
        <tr>
            <th>时间</th>
            <th>HASH</th>
            <th>说明</th>
        </tr>
        <{foreach $data $commit}>
        <tr>
            <td><{=$commit->getDate()->format('Y-m-d H:i:s')}></td>
            <td><a href="/book/diff/<{=$commit->getHash()}>/<{=$book_name}>/<{=$page_path}>?from=<{=$page}>"><{=$commit->getHash()}></a></td>
            <td><{=$commit->getMessage()}></td>
        </tr>
        <{/foreach}>
    </table>
    <nav aria-label="...">
        <ul class="pager">
            <{if $page <= 1}>
            <li class="disabled"><a href="javascript:void(0);">上一页</a></li>
            <{else}>
            <li><a href="/book/history/<{=$page-1}>/<{=$book_name}>/<{=$page_path}>">上一页</a></li>
            <{/if}>
            <{if $page >= $max_page}>
            <li class="disabled"><a href="javascript:void(0);">下一页</a></li>
            <{else}>
            <li><a href="/book/history/<{=$page+1}>/<{=$book_name}>/<{=$page_path}>">下一页</a></li>
            <{/if}>

        </ul>
    </nav>
</div>
<{inc footer}>